(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),i=(a(56),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,101)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)})}),o=a(8),u=a(5),l=a(3),m=a(2),f=a.n(m),d=a(4),p=a(12),b=a(7),v=a(24),g=a.n(v),h=a(26),E=a(22),y="jwt-token",j="jwt-refresh-token",O="jwt-expires",k="user-local-id";var w={setTokens:function(e){var t=e.refreshToken,a=e.accessToken,n=e.userId,r=e.expiresIn,c=void 0===r?3600:r,s=(new Date).getTime()+1e3*c;localStorage.setItem(k,n),localStorage.setItem(y,a),localStorage.setItem(j,t),localStorage.setItem(O,s)},getAccessToken:function(){return localStorage.getItem(y)},getRefreshToken:function(){return localStorage.getItem(j)},getTokenExpiresDate:function(){return localStorage.getItem(O)},getUserId:function(){return localStorage.getItem(k)},removeAuthData:function(){localStorage.removeItem(k),localStorage.removeItem(y),localStorage.removeItem(j),localStorage.removeItem(O)}},x=g.a.create({baseURL:E.apiEndPoint+"/auth/",params:{key:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_FIREBASE_KEY}}),N={register:function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("signUp",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n,r,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.next=3,x.post("signInWithPassword",{email:a,password:n,returnSecureToken:!0});case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),refresh:function(){var e=Object(d.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("token",{grant_type:"refresh_token",refresh_token:w.getRefreshToken()});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},S=g.a.create({baseURL:E.apiEndPoint});S.interceptors.request.use(function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n,r,c,s,i,o,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=w.getTokenExpiresDate(),n=w.getRefreshToken(),r=n&&a<Date.now(),!E.isFireBase){e.next=15;break}if(c=/\/$/gi.test(t.url),t.url=(c?t.url.slice(0,-1):t.url)+".json",!r){e.next=11;break}return e.next=9,N.refresh();case 9:s=e.sent,w.setTokens({refreshToken:s.refresh_token,idToken:s.id_token,expiresIn:s.expires_in,localId:s.user_id});case 11:(i=w.getAccessToken())&&(t.params=Object(b.a)({},t.params,{auth:i})),e.next=22;break;case 15:if(!r){e.next=20;break}return e.next=18,N.refresh();case 18:o=e.sent,w.setTokens(o);case 20:(u=w.getAccessToken())&&(t.headers=Object(b.a)({},t.headers,{Authorization:"Bearer ".concat(u)}));case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(e){return Promise.reject(e)}),S.interceptors.response.use(function(e){var t;return E.isFireBase&&(e.data={content:(t=e.data,t&&!t._id?Object.keys(t).map(function(e){return Object(b.a)({},t[e])}):t)}),e.data={content:e.data},e},function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),h.b.error("Something was wrong. Try it later")),Promise.reject(e)});var q={get:S.get,post:S.post,put:S.put,delete:S.delete,patch:S.patch},C={get:function(){var e=Object(d.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("user/");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.put("user/"+t._id,t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getCurrentUser:function(){var e=Object(d.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("user/"+w.getUserId());case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.patch("user/"+w.getUserId(),t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},_=a(11),I=Object(_.a)();function L(e){switch(e){case"EMAIL_EXISTS":return"The user with this email exists";case"INVALID_PASSWORD":return"The password is invalid or the user does not have a password";default:return"Too much trying, try later please"}}var R=w.getAccessToken()?{entities:null,isLoading:!0,error:null,auth:{userId:w.getUserId()},isLoggedIn:!0,dataLoaded:!1}:{entities:null,isLoading:!1,error:null,auth:null,isLoggedIn:!1,dataLoaded:!1},A=Object(p.c)({name:"users",initialState:R,reducers:{usersRequested:function(e){e.isLoading=!0},usersReceived:function(e,t){e.entities=t.payload,e.dataLoaded=!0,e.isLoading=!1},usersRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},authRequestSuccess:function(e,t){e.auth=t.payload,e.isLoggedIn=!0},authRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},userCreated:function(e,t){Array.isArray(e.entities)||(e.entities=[]),e.entities.push(t.payload)},userLoggedOut:function(e){e.entities=null,e.isLoggedIn=!1,e.auth=null,e.dataLoaded=!1},userUpdateSuccessed:function(e,t){e.entities[e.entities.findIndex(function(e){return e._id===t.payload._id})]=t.payload},authRequested:function(e){e.error=null}}}),F=A.reducer,T=A.actions,M=T.usersRequested,D=T.usersReceived,P=T.usersRequestFailed,U=T.authRequestSuccess,B=T.authRequestFailed,V=T.userLoggedOut,z=T.userUpdateSuccessed,$=Object(p.b)("users/authRequested"),J=Object(p.b)("users/userUpdateFailed"),H=Object(p.b)("users/userUpdateRequested"),Y=function(){return function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(M()),e.prev=1,e.next=4,C.get();case 4:a=e.sent,n=a.content,t(D(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(P(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},K=function(e){return function(t){if(t.users.entities)return t.users.entities.find(function(t){return t._id===e})}},W=F,Z=function(){var e=Object(l.c)(function(e){return e.users.entities?e.users.entities.find(function(t){return t._id===e.users.auth.userId}):null}),t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1];return e?r.a.createElement("div",{className:"dropdown",onClick:function(){s(function(e){return!e})}},r.a.createElement("div",{className:"btn dropdown-toggle d-flex align-items-center"},r.a.createElement("div",{className:"me-2"},e.name),r.a.createElement("img",{src:e.image,alt:"",className:"img-responsive rounded-circle",height:"40"})),r.a.createElement("div",{className:"w-100 dropdown-menu"+(c?" show":"")},r.a.createElement(o.a,{to:"/users/".concat(e._id),className:"dropdown-item"},"Profile"),r.a.createElement(o.a,{to:"/logout",className:"dropdown-item"},"Logout"))):"Loading..."},Q=function(){var e=Object(l.c)(function(e){return e.users.isLoggedIn});return r.a.createElement("nav",{className:"navbar bg-light mb-3"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.a,{className:"nav-link",to:"/"},"Main")),e&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.a,{className:"nav-link",to:"/users"},"Users"))),r.a.createElement("div",{className:"d-flex"},e?r.a.createElement(Z,null):r.a.createElement(o.a,{className:"nav-link",to:"/login"},"Login"))))},X=a(6),G=a(31),ee=a(32),te=a(33);function ae(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ne(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ne(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,c=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw c}}}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var re=function(){var e={idle:"Not started",pending:"In process",successed:"Ready",error:"Error"},t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(e.idle),i=Object(u.a)(s,2),o=i[0],l=i[1],m=Object(n.useState)(0),p=Object(u.a)(m,2),b=p[0],v=p[1],g=Object(n.useState)(0),h=Object(u.a)(g,2),E=h[0],y=h[1],j=G.length+ee.length+te.length,O=function(){y(function(e){return e+1})};function k(){return(k=Object(d.a)(f.a.mark(function t(){var a,n,r,s,i,o,u,m,d;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a=ae(G),t.prev=2,a.s();case 4:if((n=a.n()).done){t.next=11;break}return r=n.value,t.next=8,q.put("profession/"+r._id,r);case 8:O();case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),a.e(t.t0);case 16:return t.prev=16,a.f(),t.finish(16);case 19:s=ae(ee),t.prev=20,s.s();case 22:if((i=s.n()).done){t.next=29;break}return o=i.value,t.next=26,q.put("quality/"+o._id,o);case 26:O();case 27:t.next=22;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(20),s.e(t.t1);case 34:return t.prev=34,s.f(),t.finish(34);case 37:u=ae(te),t.prev=38,u.s();case 40:if((m=u.n()).done){t.next=47;break}return d=m.value,t.next=44,q.put("user/"+d._id,d);case 44:O();case 45:t.next=40;break;case 47:t.next=52;break;case 49:t.prev=49,t.t2=t.catch(38),u.e(t.t2);case 52:return t.prev=52,u.f(),t.finish(52);case 55:t.next=61;break;case 57:t.prev=57,t.t3=t.catch(0),c(t.t3),l(e.error);case 61:case"end":return t.stop()}},t,null,[[0,57],[2,13,16,19],[20,31,34,37],[38,49,52,55]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){0!==E&&o===e.idle&&l(e.pending);var t=Math.floor(E/j*100);b<t&&v(function(){return t}),100===t&&l(e.successed)}()},[E]),{error:r,initialize:function(){return k.apply(this,arguments)},progress:b,status:o}},ce=function(){var e=re(),t=e.error,a=e.initialize,n=e.progress,c=e.status;return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("h1",null,"Main"),r.a.createElement("h3",null,"Data initialization in FireBase"),r.a.createElement("ul",null,r.a.createElement("li",null,"Status:",c),r.a.createElement("li",null,"Progress:",n),t&&r.a.createElement("li",null,"Error:",t)),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){a()}}," ","Initialize"))},se=a(17),ie=function(e){var t=e.label,a=e.type,c=e.name,s=e.value,i=e.onChange,o=e.error,l=e.placeholder,m=Object(n.useState)(!1),f=Object(u.a)(m,2),d=f[0],p=f[1];return r.a.createElement("div",{className:"mb-4 "},r.a.createElement("label",{htmlFor:c},t),r.a.createElement("div",{className:"input-group has-validation"},r.a.createElement("input",{type:d?"text":a,id:c,value:s,name:c,onChange:function(e){var t=e.target;i({name:t.name,value:t.value})},className:" is-invalid",placeholder:l}),"password"===a&&r.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){p(function(e){return!e})}},r.a.createElement("i",{className:"bi bi-eye"+(d?"-slash":"")})),o&&r.a.createElement("div",{className:"invalid-feedback"},o)))};ie.defaultProps={type:"text"};var oe=ie;function ue(e,t){var a={};function n(e,t,a){var n;switch(e){case"isRequired":n="boolean"===typeof t?!t:"object"===typeof t?null===JSON.stringify(t):""===t.trim();break;case"isEmail":n=!/^\S+@\S+\.\S+$/g.test(t);break;case"isCapitalSymbol":n=!/[A-Z]+/g.test(t);break;case"isContainDigit":n=!/\d+/g.test(t);break;case"min":n=t.length<a.value;break;case"isNotADigit":n=!/^\D+$/g.test(t)}if(n)return a.message}for(var r in e)for(var c in t[r]){var s=n(c,e[r],t[r][c]);s&&!a[r]&&(a[r]=s)}return a}var le=function(e){var t=e.name,a=e.value,n=e.onChange,c=e.children,s=e.error;return r.a.createElement("div",{className:"form-check mb-4"},r.a.createElement("input",{className:" is-invalid",type:"checkbox",value:"",id:t,onChange:function(){n({name:t,value:!a})},checked:a}),r.a.createElement("label",{className:"form-check-label",htmlFor:t},c),s&&r.a.createElement("div",{className:"invalid-feedback"},s))},me=function(){var e=Object(n.useState)({email:"",password:"",stayOn:!1}),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(l.c)(function(e){return e.users.error}),i=Object(X.g)(),o=Object(l.b)(),m=Object(n.useState)({}),p=Object(u.a)(m,2),v=p[0],g=p[1],h=function(e){c(function(t){return Object(b.a)({},t,Object(se.a)({},e.name,e.value))})},E={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}}};Object(n.useEffect)(function(){y()},[a]);var y=function(){var e=ue(a,E);return g(e),0===Object.keys(e).length},j=0===Object.keys(v).length;return r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),y()){var t=i.location.state?i.location.state.from.pathname:"/";o(function(e){var t=e.payload,a=e.redirect;return function(){var e=Object(d.a)(f.a.mark(function e(n){var r,c,s,i,o,u,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,c=t.password,n($()),e.prev=2,e.next=5,N.login({email:r,password:c});case 5:s=e.sent,w.setTokens(s),n(U({userId:s.userId})),I.push(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),i=e.t0.response.data.error,o=i.code,u=i.message,400===o?(l=L(u),n(B(l))):n(B(e.t0.message));case 15:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}({payload:a,redirect:t}))}}},r.a.createElement(oe,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:a.email,onChange:h,error:v.email}),r.a.createElement(oe,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",value:a.password,onChange:h,error:v.password}),r.a.createElement(le,{value:a.stayOn,onChange:h,name:"stayOn"},"Stay logged in"),s&&r.a.createElement("p",{className:"text-danger"},s),r.a.createElement("button",{type:"submit",disabled:!j,className:"btn btn-primary w-100 mx-auto"},"Submit"))},fe=function(e){var t=e.label,a=e.value,n=e.onChange,c=e.defaultOption,s=e.options,i=e.name,o=e.error,u=Array.isArray(s)||"object"!==typeof s?s:Object.keys(s).map(function(e){return{name:s[e].name,value:s[e]._id}});return r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{htmlFor:i,className:"form-label"},t),r.a.createElement("select",{className:" is-invalid",id:i,name:i,value:a,onChange:function(e){var t=e.target;n({name:t.name,value:t.value})}},r.a.createElement("option",{disabled:!0,value:""},c),u&&u.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})),o&&r.a.createElement("div",{className:"invalid-feedback"},o))},de=function(e){var t=e.options,a=e.name,n=e.onChange,c=e.value,s=e.label,i=function(e){var t=e.target;n({name:t.name,value:t.value})};return r.a.createElement("div",{className:"mb-4 "},r.a.createElement("label",{className:"form-label"},s),r.a.createElement("div",null,t.map(function(e){return r.a.createElement("div",{key:e.name+"_"+e.value,className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:a,id:e.name+"_"+e.value,checked:e.value===c,value:e.value,onChange:i}),r.a.createElement("label",{className:"form-check-label",htmlFor:e.name+"_"+e.value},e.name))})))},pe=a(49),be=function(e){var t=e.options,a=e.onChange,n=e.name,c=e.label,s=e.defaultValue,i=Array.isArray(t)||"object"!==typeof t?t:Object.keys(t).map(function(e){return{label:t[e].name,value:t[e]._id}});return r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"form-label"},c),r.a.createElement(pe.a,{isMulti:!0,closeMenuOnSelect:!1,defaultValue:s,options:i,className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){a({name:n,value:e})},name:n}))},ve={fetchAll:function(){var e=Object(d.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("quality/");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()};function ge(e){return Date.now()-e>6e5}function he(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Ee(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ee(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,c=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw c}}}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ye=Object(p.c)({name:"qualities",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null},reducers:{qualitiesRequested:function(e){e.isLoading=!0},qualitiesReceived:function(e,t){e.entities=t.payload,e.lastFetch=Date.now(),e.isLoading=!1},qualitiesRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1}}}),je=ye.reducer,Oe=ye.actions,ke=Oe.qualitiesRequested,we=Oe.qualitiesReceived,xe=Oe.qualitiesRequestFailed,Ne=function(){return function(){var e=Object(d.a)(f.a.mark(function e(t,a){var n,r,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ge(n=a().qualities.lastFetch)){e.next=15;break}return console.log("lastFetch",n),t(ke()),e.prev=4,e.next=7,ve.fetchAll();case 7:r=e.sent,c=r.content,t(we(c)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t(xe(e.t0.message));case 15:case"end":return e.stop()}},e,null,[[4,12]])}));return function(t,a){return e.apply(this,arguments)}}()},Se=je,qe={get:function(){var e=Object(d.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("profession/");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Ce=Object(p.c)({name:"profession",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null},reducers:{professionsRequested:function(e){e.isLoading=!0},professionsReceived:function(e,t){e.entities=t.payload,e.lastFetch=Date.now(),e.isLoading=!1},professionsRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1}}}),_e=Ce.reducer,Ie=Ce.actions,Le=Ie.professionsRequested,Re=Ie.professionsReceived,Ae=Ie.professionsRequestFailed,Fe=_e,Te=function(){var e=Object(l.b)(),t=Object(n.useState)({email:"",password:"",profession:"",name:"",sex:"male",qualities:[],licence:!1}),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(l.c)(function(e){return e.qualities.entities}).map(function(e){return{label:e.name,value:e._id}}),o=Object(l.c)(function(e){return e.professions.entities}).map(function(e){return{label:e.name,value:e._id}}),m=Object(n.useState)({}),p=Object(u.a)(m,2),v=p[0],g=p[1],h=function(e){s(function(t){return Object(b.a)({},t,Object(se.a)({},e.name,e.value))})},E={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isEmail:{message:"Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"}},name:{isRequired:{message:"\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},min:{message:"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:3}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isCapitalSymbol:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443"},isContainDigit:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u0447\u0438\u0441\u043b\u043e"},min:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:8}},profession:{isRequired:{message:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e"}},licence:{isRequired:{message:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0448 \u0441\u0435\u0440\u0432\u0438\u0441 \u0431\u0435\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"}}};Object(n.useEffect)(function(){y()},[c]);var y=function(){var e=ue(c,E);return g(e),0===Object.keys(e).length},j=0===Object.keys(v).length;return r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),y()){var a,n=Object(b.a)({},c,{qualities:c.qualities.map(function(e){return e.value})});e((a=n,function(){var e=Object(d.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t($),e.prev=1,e.next=4,N.register(a);case 4:n=e.sent,w.setTokens(n),t(U({userId:n.userId})),I.push("/users"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(B(e.t0.message));case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()))}}},r.a.createElement(oe,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:c.email,onChange:h,error:v.email}),r.a.createElement(oe,{label:"\u0418\u043c\u044f",name:"name",value:c.name,onChange:h,error:v.name}),r.a.createElement(oe,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",value:c.password,onChange:h,error:v.password}),r.a.createElement(fe,{label:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0441\u0432\u043e\u044e \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e",defaultOption:"Choose...",options:o,name:"profession",onChange:h,value:c.profession,error:v.profession}),r.a.createElement(de,{options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Other",value:"other"}],value:c.sex,name:"sex",onChange:h,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u043e\u043b"}),r.a.createElement(be,{options:i,onChange:h,defaultValue:c.qualities,name:"qualities",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430"}),r.a.createElement(le,{value:c.licence,onChange:h,name:"licence",error:v.licence},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c ",r.a.createElement("a",null,"\u043b\u0438\u0446\u0435\u043d\u0437\u0438\u043e\u043d\u043d\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435")),r.a.createElement("button",{className:"btn btn-primary w-100 mx-auto",type:"submit",disabled:!j},"Submit"))},Me=function(){var e=Object(X.h)().type,t=Object(n.useState)("register"===e?e:"login"),a=Object(u.a)(t,2),c=a[0],s=a[1],i=function(){s(function(e){return"register"===e?"login":"register"})};return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:".col-md-6 .offset-md-3 shadow p-4"},"register"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-4"},"Register"),r.a.createElement(Te,null),r.a.createElement("p",null,"Do you already have an account?"," ",r.a.createElement("a",{role:"button",onClick:i}," ","Sign In"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-4"},"Login"),r.a.createElement(me,null),r.a.createElement("p",null,"Do not have an account yet?"," ",r.a.createElement("a",{role:"button",onClick:i}," ","Sign Up"))))))},De=function(e){var t=e.user,a=Object(X.g)(),n=Object(l.c)(function(e){return e.users.auth.userId});return r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"card-body"},n===t._id&&r.a.createElement("button",{className:"position-absolute top-0 end-0 btn btn-light btn-sm"},r.a.createElement("i",{className:"bi bi-gear",onClick:function(){a.push(a.location.pathname+"/edit")}})),r.a.createElement("div",{className:"d-flex flex-column align-items-center text-center position-relative"},r.a.createElement("img",{src:t.image,className:"rounded-circle",width:"150"}),r.a.createElement("div",{className:"mt-3"},r.a.createElement("h4",null,t.name),r.a.createElement("p",{className:"text-secondary mb-1"},"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f: ",t.profession.name),r.a.createElement("div",{className:"text-muted"},r.a.createElement("i",{className:"bi bi-caret-down-fill text-primary",role:"button"}),r.a.createElement("i",{className:"bi bi-caret-up text-secondary",role:"button"}),r.a.createElement("span",{className:"ms-2"},"Rate: ",t.rate))))))},Pe=function(e){var t=e._id,a=e.color,n=e.name;return r.a.createElement("span",{className:"badge m-1 bg-"+a,key:t},n)},Ue=function(e){var t,a=e.qualities,c=Object(l.b)(),s=Object(l.c)(function(e){return e.qualities.isLoading}),i=Object(l.c)((t=a,function(e){if(e.qualities.entities){var a,n=[],r=he(t);try{for(r.s();!(a=r.n()).done;){var c,s=a.value,i=he(e.qualities.entities);try{for(i.s();!(c=i.n()).done;){var o=c.value;if(o._id===s){n.push(o);break}}}catch(u){i.e(u)}finally{i.f()}}}catch(u){r.e(u)}finally{r.f()}return n}return[]}));return Object(n.useEffect)(function(){c(Ne())},[]),s?"Loading...":r.a.createElement(r.a.Fragment,null,i.map(function(e){return r.a.createElement(Pe,Object.assign({key:e._id},e))}))},Be=function(e){var t=e.data;return r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"card-body d-flex flex-column justify-content-center text-center"},r.a.createElement("h5",{className:"card-title"},r.a.createElement("span",null,"Qualities")),r.a.createElement("p",{className:"card-text"},r.a.createElement(Ue,{qualities:t}))))},Ve=function(e){var t=e.value;return r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"card-body d-flex flex-column justify-content-center text-center"},r.a.createElement("h5",{className:"card-title"},r.a.createElement("span",null,"Completed meetings")),r.a.createElement("h1",{className:"display-1"},t)))},ze=a(21),$e=a.n(ze);var Je=function(e){var t=new Date(e),a=new Date;if(0===a.getFullYear()-t.getFullYear()){if(0===a.getDay()-t.getDay()){if(0===a.getHours()-t.getHours()){var n=a.getMinutes()-t.getMinutes();return n>=0&&n<5?"1 \u043c\u0438\u043d\u0443\u0442\u0443 \u043d\u0430\u0437\u0430\u0434":n>=5&&n<10?"5 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434":n>=10&&n<30?"10 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434":"30 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434"}return"".concat(t.getHours(),":").concat(t.getMinutes())}return"".concat(t.getDay()," ").concat(t.toLocaleString("default",{month:"long"}))}return t.getFullYear()+"."+(t.getMonth()+1)+"_"+t.getDate()},He=function(e){var t=e._id,a=e.userId,n=e.content,c=e.created_at,s=e.onRemove,i=Object(l.c)(K(a)),o=Object(l.c)(function(e){return e.users.auth.userId});return r.a.createElement("div",{className:"bg-light card-body mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"d-flex flex-start"},r.a.createElement("img",{src:i.image,className:"rounded-circle shadow-1-strong me-3",alt:"avatar",width:"65",height:"65"}),r.a.createElement("div",{className:"flex-grow-1 flex-shrink-1"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("p",{className:"mb-1"},i&&i.name," ",r.a.createElement("span",{className:"small"},"- ",Je(c))),o===a&&r.a.createElement("button",{className:"btn btn-sm text-primary d-flex align-items-center",onClick:function(){s(t)}},r.a.createElement("i",{className:"bi bi-x-lg"}))),r.a.createElement("p",{className:"small mb-0"},n)))))))},Ye=function(e){var t=e.comments,a=e.onRemove;return t.map(function(e){return r.a.createElement(He,Object.assign({key:e._id},e,{onRemove:a}))})},Ke=function(e){var t=e.label,a=e.name,n=e.value,c=e.onChange,s=e.error,i=e.placeholder,o=e.rows;return r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{htmlFor:a},t),r.a.createElement("div",{className:"input-group has-validation"},r.a.createElement("textarea",{id:a,value:n,name:a,onChange:function(e){var t=e.target;c({name:t.name,value:t.value})},placeholder:i,className:"form-control"+(s?" is-invalid":""),rows:o}),s&&r.a.createElement("div",{className:"invalid-feedback"},s)))};Ke.defaultProps={placeholder:"",rows:3};var We=Ke,Ze=function(e){var t=e.onAdd,a=Object(n.useState)({}),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)({}),l=Object(u.a)(o,2),m=l[0],f=l[1],d={content:{isRequired:{message:"Fill the comment"}}},p=function(e){e.preventDefault(),function(){var e=ue(s,d);return f(e),0===Object.keys(e).length}()&&(t(s),i({}),f({}))};return r.a.createElement("div",null,r.a.createElement("h2",null,"New comment"),r.a.createElement("form",{onSubmit:p}),r.a.createElement("div",{className:"mb-4"}),r.a.createElement(We,{label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",name:"content",value:s.content||"",onChange:function(e){i(function(t){return Object(b.a)({},t,Object(se.a)({},e.name,e.value))})},error:m.content}),r.a.createElement("div",{className:"d-flex justify-content-end",onClick:p},r.a.createElement("button",{className:"btn btn-primary"},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))},Qe={createComment:function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("comment/",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getComments:function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("comment/",{params:{orderBy:"pageId",equalTo:"".concat(t)}});case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),removeComment:function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.delete("comment/"+t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Xe=Object(p.c)({name:"comments",initialState:{entities:null,isLoading:!0,error:null},reducers:{commentsRequested:function(e){e.isLoading=!0},commentsReceived:function(e,t){e.entities=t.payload,e.isLoading=!1},commentsRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},commentRemoved:function(e,t){e.entities=e.entities.filter(function(e){return e._id!==t.payload})},commentCreated:function(e,t){e.entities.push(t.payload)}}}),Ge=Xe.reducer,et=Xe.actions,tt=et.commentsRequested,at=et.commentsReceived,nt=et.commentsRequestFailed,rt=et.commentRemoved,ct=et.commentCreated,st=Object(p.b)("comments/addCommentRequested"),it=Object(p.b)("comments/removeCommentRequested"),ot=Ge,ut=function(){var e=Object(X.h)().userId,t=Object(l.b)();Object(n.useEffect)(function(){t(function(e){return function(){var t=Object(d.a)(f.a.mark(function t(a){var n,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(tt()),t.prev=1,t.next=4,Qe.getComments(e);case 4:n=t.sent,r=n.content,a(at(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(nt(t.t0.message));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}(e))},[e]);var a=Object(l.c)(function(e){return e.comments.isLoading}),c=Object(l.c)(function(e){return e.comments.entities}),s=Object(ze.orderBy)(c,["created_at"],["desc"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card mb-2"},r.a.createElement("div",{className:"card-body"},r.a.createElement(Ze,{onAdd:function(a){var n;t((n=Object(b.a)({},a,{pageId:e}),function(){var e=Object(d.a)(f.a.mark(function e(t,a){var r,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(st(n)),e.prev=1,e.next=4,Qe.createComment(n);case 4:r=e.sent,c=r.content,t(ct(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(nt(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}()))}}))),s.length>0&&r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",null,"Comments"),r.a.createElement("hr",null),a?"Loading...":r.a.createElement(Ye,{comments:s,onRemove:function(e){var a;t((a=e,function(){var e=Object(d.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(it()),e.prev=1,e.next=4,Qe.removeComment(a);case 4:e.sent.content||t(rt(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(nt(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()))}}))))},lt=function(e){var t=e.userId,a=Object(l.c)(K(t));return a?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row gutters-sm"},r.a.createElement("div",{className:"col-md-4 mb-3"},r.a.createElement(De,{user:a}),r.a.createElement(Be,{data:a.qualities}),r.a.createElement(Ve,{value:a.completedMeetings})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(ut,null)))):r.a.createElement("h1",null,"Loading")},mt=function(e){var t=e.itemsCount,a=e.pageSize,n=e.onPageChange,c=e.currentPage,s=Math.ceil(t/a);if(1===s)return null;var i=$e.a.range(1,s+1);return r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination"},i.map(function(e){return r.a.createElement("li",{className:"page-item"+(e===c?" active":""),key:"page_"+e},r.a.createElement("button",{className:"page-link",onClick:function(){return n(e)}},e))})))},ft=a(50);var dt=function(e){var t=e.items,a=e.valueProperty,n=e.contentProperty,c=e.onItemSelect,s=e.selectedItem;return r.a.createElement("ul",{className:"list-group"},null!=t&&"object"===typeof t&&Object.keys(t).map(function(e){return r.a.createElement("li",{key:t[e][a],className:"list-group-item"+(t[e]===s?"active":""),onClick:function(){return c(t[e])},role:"button"},t[e][n])}),null!=t&&"object"!==typeof t&&t.isArray()&&t.map(function(e){return r.a.createElement("li",{key:t[e][a],className:"list-group-item"+(t[e]===s?"active":""),onClick:function(){return c(t[e])},role:"button"},t[e][n])}))};dt.defaultProps={valueProperty:"_id",contentProperty:"name"};var pt=dt,bt=function(e){var t=e.number;return r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{className:function(){var e="badge rounded-pill ";return e+=0===t?"bg-warning":"bg-primary"}()},function(e){var t=null,a=null,n=e%10;1===n||e>=5&&e<=20||0===n?(t="",a="\u0435\u0442"):n>=2&&n<=4&&(t="\u0430",a="\u0443\u0442");var r=e+" \u0447\u0435\u043b\u043e\u0432\u0435\u043a".concat(t," \u0442\u0443\u0441\u0430\u043d").concat(a," \u0441 \u0442\u043e\u0431\u043e\u0439 \u0441\u0435\u0433\u043e\u0434\u043d\u044f");return 0===e?"\u041d\u0438\u043a\u0442\u043e \u0441 \u0442\u043e\u0431\u043e\u0439 \u043d\u0435 \u0442\u0443\u0441\u0430\u043d\u0435\u0442":r}(t)))},vt=function(e){var t=e.onSort,a=e.selectedSort,n=e.columns;return r.a.createElement("thead",{className:"head"},r.a.createElement("tr",null,Object.keys(n).map(function(e){return r.a.createElement("th",{key:e,onClick:n[e].path?function(){return r=n[e].path,void(a.path===r?t(Object(b.a)({},a,{order:"asc"===a.order?"desc":"asc"})):t({path:r,order:"asc"}));var r}:void 0,role:n[e].path&&"button",scope:"col"},n[e].name,function(e,t){return t.path&&t.path===e?"asc"===t.order?r.a.createElement("i",{className:"bi bi-caret-up-fill"}):r.a.createElement("i",{className:"bi bi-caret-down-fill"}):null}(n[e].path,a))})))},gt=function(e){var t=e.data,a=e.columns;return r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e._id},Object.keys(a).map(function(t){return r.a.createElement("td",{key:t},function(e,t){if(a[t].component){var n=a[t].component;return"function"===typeof n?n(e):n}return $e.a.get(e,a[t].path)}(e,t))}))}))},ht=function(e){var t=e.onSort,a=e.selectedSort,n=e.columns,c=e.data,s=e.children;return r.a.createElement("table",{className:"table"},s||r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,{onSort:t,selectedSort:a,columns:n}),r.a.createElement(gt,{columns:n,data:c})))},Et=a(27),yt=function(e){var t=e.status,a=Object(Et.a)(e,["status"]);return r.a.createElement("button",a,r.a.createElement("i",{className:"bi bi-bookmark"+(t?"-heart-fill":"")}))},jt=function(e){var t=e.id,a=Object(l.c)(function(e){return e.professions.isLoading}),n=Object(l.c)(function(e){return function(t){if(t.professions.entities)return t.professions.entities.find(function(t){return t._id===e})}}(t));return a?"loading...":r.a.createElement("p",null,n.name)},Ot=function(e){var t=e.users,a=e.onSort,n=e.selectedSort,c=e.onToggleBookMark,s={name:{path:"name",name:"\u0418\u043c\u044f",component:function(e){return r.a.createElement(o.a,{to:"users/".concat(e._id)},e.name)}},qualities:{name:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u0430",component:function(e){return r.a.createElement(Ue,{qualities:e.qualities})}},professions:{name:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",component:function(e){return r.a.createElement(jt,{id:e.profession})}},completedMeetings:{path:"completedMeetings",name:"\u0412\u0441\u0442\u0440\u0435\u0442\u0438\u043b\u0441\u044f, \u0440\u0430\u0437"},rate:{path:"rate",name:"\u041e\u0446\u0435\u043d\u043a\u0430"},bookmark:{path:"bookmark",name:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",component:function(e){return r.a.createElement(yt,{status:e.bookmark,onClick:function(){return c(e._id)}})}}};return r.a.createElement(ht,{onSort:a,selectedSort:n,columns:s,data:t})},kt=function(){var e=Object(l.c)(function(e){return e.users.entities}),t=Object(l.c)(function(e){return e.users.auth.userId}),a=Object(l.c)(function(e){return e.professions.entities}),c=Object(l.c)(function(e){return e.professions.isLoading}),s=Object(n.useState)(1),i=Object(u.a)(s,2),o=i[0],m=i[1],f=Object(n.useState)(),d=Object(u.a)(f,2),p=d[0],b=d[1],v=Object(n.useState)({iter:"name",order:"asc"}),g=Object(u.a)(v,2),h=g[0],E=g[1],y=Object(n.useState)(""),j=Object(u.a)(y,2),O=j[0],k=j[1];Object(n.useEffect)(function(){m(1)},[p,O]);var w=function(){b(void 0)};if(!e)return r.a.createElement("h2",null,"loading....");var x,N=(x=e,(O?x.filter(function(e){return-1!==e.name.toLowerCase().indexOf(O.toLowerCase())}):p?x.filter(function(e){return JSON.stringify(e.profession)===JSON.stringify(p)}):x).filter(function(e){return e._id!==t})),S=N.length,q=function(e,t,a){var n=(t-1)*a;return Object(ft.a)(e).splice(n,a)}($e.a.orderBy(N,[h.path],[h.order]),o,8);return 0===q.length&&S&&m(function(e){return e-1}),0===e.length?r.a.createElement("h2",null,"No users left"):r.a.createElement("div",{className:"d-flex"},a&&!c&&r.a.createElement("div",{className:"d-flex flex-column flex-shrink-0 p-3"},r.a.createElement(pt,{selectedItem:p,items:a,onItemSelect:function(e){""!==O&&k(""),b(e)}}),r.a.createElement("button",{className:"btn btn-secondary mt-2",onClick:w}," ","Clear filter")),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(bt,{number:S}),r.a.createElement(oe,{name:"search",value:O,onChange:function(e){var t=e.target;k(t.value),w()},placeholder:"Search..."}),S>0&&r.a.createElement(Ot,{users:q,onSort:function(e){E(e)},selectedSort:h,onDelete:function(e){console.log(e)},onToggleBookMark:function(e){console.log("newArray")}}),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(mt,{itemsCount:S,pageSize:8,currentPage:o,onPageChange:function(e){m(e)}}))))},wt=function(){var e=Object(X.g)();return r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.goBack()}},r.a.createElement("i",{className:"bi bi-caret-left"}),"\u041d\u0430\u0437\u0430\u0434")};function xt(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Nt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Nt(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,c=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw c}}}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var St=function(e){e.userId;var t=Object(n.useState)(!0),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(),o=Object(u.a)(i,2),m=o[0],p=o[1],v=Object(l.b)(),g=Object(l.c)(function(e){return e.users.entities?e.users.entities.find(function(t){return t._id===e.users.auth.userId}):null}),h=Object(l.c)(function(e){return e.qualities.entities}),E=Object(l.c)(function(e){return e.qualities.isLoading}),y=h.map(function(e){return{label:e.name,value:e._id}}),j=Object(l.c)(function(e){return e.professions.entities}),O=Object(l.c)(function(e){return e.professions.isLoading}),k=j.map(function(e){return{label:e.name,value:e._id}}),w=Object(n.useState)({}),x=Object(u.a)(w,2),N=x[0],S=x[1];var q=function(e){return function(e){var t,a=[],n=xt(e);try{for(n.s();!(t=n.n()).done;){var r,c=t.value,s=xt(h);try{for(s.s();!(r=s.n()).done;){var i=r.value;if(i._id===c){a.push(i);break}}}catch(o){s.e(o)}finally{s.f()}}}catch(o){n.e(o)}finally{n.f()}return a}(e).map(function(e){return{label:e.name,value:e._id}})};Object(n.useEffect)(function(){O||E||!g||m||p(Object(b.a)({},g,{qualities:q(g.qualities)}))},[O,E,g,m]),Object(n.useEffect)(function(){m&&c&&s(!1)},[m]);var _={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isEmail:{message:"Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"}},name:{isRequired:{message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f"}}};Object(n.useEffect)(function(){return R()},[m]);var L=function(e){p(function(t){return Object(b.a)({},t,Object(se.a)({},e.name,e.value))})},R=function(){var e=ue(m,_);return S(e),0===Object.keys(e).length},A=0===Object.keys(N).length;return r.a.createElement("div",{className:"container mt-5"},r.a.createElement(wt,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 shadow p-4"},!c&&Object.keys(j).length>0?r.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),R()&&v((t=Object(b.a)({},m,{qualities:m.qualities.map(function(e){return e.value})}),function(){var e=Object(d.a)(f.a.mark(function e(a){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(H()),e.prev=1,e.next=4,C.update(t);case 4:n=e.sent,r=n.content,a(z(r)),I.push("/users/".concat(r._id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a(J(e.t0.message));case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement(oe,{label:"\u0418\u043c\u044f",name:"name",value:m.name,onChange:L,error:N.name}),r.a.createElement(oe,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:m.email,onChange:L,error:N.email}),r.a.createElement(fe,{label:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0441\u0432\u043e\u044e \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044e",defaultOption:"Choose...",options:k,name:"profession",onChange:L,value:m.profession,error:N.profession}),r.a.createElement(de,{options:[{name:"Male",value:"male"},{name:"Female",value:"female"},{name:"Other",value:"other"}],value:m.sex,name:"sex",onChange:L,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u043e\u043b"}),r.a.createElement(be,{defaultValue:m.qualities,options:y,onChange:L,name:"qualities",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430"}),r.a.createElement("button",{type:"submit",disabled:!A,className:"btn btn-primary w-100 mx-auto"},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")):"Loading...")))},qt=a(10),Ct=a.n(qt),_t=function(e){var t=e.children,a=Object(l.c)(function(e){return e.users.dataLoaded}),r=Object(l.b)();return Object(n.useEffect)(function(){a||r(Y())},[]),a?t:"Loading..."};_t.propTypes={children:Ct.a.oneOfType([Ct.a.arrayOf(Ct.a.node),Ct.a.node])};var It=_t,Lt=function(){var e=Object(X.h)(),t=e.userId,a=e.edit,n=Object(l.c)(function(e){return e.users.auth.userId});return r.a.createElement(r.a.Fragment,null,r.a.createElement(It,null,t?a?t===n?r.a.createElement(St,{userId:t}):r.a.createElement(X.a,{to:"/users/".concat(n,"/edit")}):r.a.createElement(lt,{userId:t}):r.a.createElement(kt,null)))},Rt=function(e){var t=e.component,a=e.children,n=Object(Et.a)(e,["component","children"]),c=Object(l.c)(function(e){return e.users.isLoggedIn});return r.a.createElement(X.b,Object.assign({},n,{render:function(e){return c?t?r.a.createElement(t,e):a:r.a.createElement(X.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},At=function(){var e=Object(l.b)();return Object(n.useEffect)(function(){e(function(e){w.removeAuthData(),e(V()),I.push("/")})},[]),r.a.createElement("h1",null,"Loading...")},Ft=function(e){var t=e.children,a=Object(l.b)(),r=Object(l.c)(function(e){return e.users.isLoggedIn}),c=Object(l.c)(function(e){return e.users.isLoading});return Object(n.useEffect)(function(){a(Ne()),a(function(){var e=Object(d.a)(f.a.mark(function e(t,a){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ge(a().professions.lastFetch)){e.next=14;break}return t(Le()),e.prev=3,e.next=6,qe.get();case 6:n=e.sent,r=n.content,t(Re(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t(Ae(e.t0.message));case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t,a){return e.apply(this,arguments)}}()),r&&a(Y())},[r]),c?"Loading...":t};Ft.propTypes={children:Ct.a.oneOfType([Ct.a.arrayOf(Ct.a.node),Ct.a.node])};var Tt=Ft;var Mt=function(){return r.a.createElement("div",null,r.a.createElement(Tt,null,r.a.createElement(Q,null),r.a.createElement(X.d,null,r.a.createElement(X.b,{path:"/",exact:!0,component:ce}),r.a.createElement(X.b,{path:"/login/:type?",component:Me}),r.a.createElement(X.b,{path:"/logout",component:At}),r.a.createElement(Rt,{path:"/users/:userId?/:edit?",component:Lt}),r.a.createElement(X.a,{to:"/"}))),r.a.createElement(h.a,null))},Dt=a(18),Pt=Object(Dt.b)({qualities:Se,professions:Fe,users:W,comments:ot});var Ut=Object(p.a)({reducer:Pt});s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Ut},r.a.createElement(X.c,{history:I},r.a.createElement(Mt,null)))),document.getElementById("root")),i()},22:function(e){e.exports={apiEndPoint:"http://localhost:8080/api",isFireBase:!1}},31:function(e){e.exports=[{_id:"67rdca3eeb7f6fgeed471818",name:"\u0414\u043e\u043a\u0442\u043e\u0440"},{_id:"67rdca3eeb7f6fgeed471820",name:"\u041e\u0444\u0438\u0446\u0438\u0430\u043d\u0442"},{_id:"67rdca3eeb7f6fgeed471814",name:"\u0424\u0438\u0437\u0438\u043a"},{_id:"67rdca3eeb7f6fgeed471822",name:"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"},{_id:"67rdca3eeb7f6fgeed471824",name:"\u0410\u043a\u0442\u0435\u0440"},{_id:"67rdca3eeb7f6fgeed471829",name:"\u041f\u043e\u0432\u0430\u0440"}]},32:function(e){e.exports=[{_id:"67rdca3eeb7f6fgeed471198",name:"\u041d\u0443\u0434\u0438\u043b\u0430",color:"primary"},{_id:"67rdca3eeb7f6fgeed471100",name:"\u0421\u0442\u0440\u0430\u043d\u043d\u044b\u0439",color:"secondary"},{_id:"67rdca3eeb7f6fgeed4711012",name:"\u0422\u0440\u043e\u043b\u044c",color:"success"},{_id:"67rdca3eeb7f6fgeed471101",name:"\u0410\u043b\u043a\u043e\u0433\u043e\u043b\u0438\u043a",color:"danger"},{_id:"67rdca3eeb7f6fgeed471102",name:"\u041a\u0440\u0430\u0441\u0430\u0432\u0447\u0438\u043a",color:"info"},{_id:"67rdca3eeb7f6fgeed471103",name:"\u041d\u0435\u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0439",color:"dark"}]},33:function(e){e.exports=[{_id:"67rdca3eeb7f6fgeed471815",name:"\u0414\u0436\u043e\u043d \u0414\u043e\u0440\u0438\u0430\u043d",email:"Jony7351@tw.com",password:"b2C!9bmE",profession:"67rdca3eeb7f6fgeed471818",qualities:["67rdca3eeb7f6fgeed471198","67rdca3eeb7f6fgeed471102","67rdca3eeb7f6fgeed471100"],completedMeetings:36,rate:2.5},{_id:"67rdca3eeb7f6fgeed471816",name:"\u041a\u043e\u043a\u0441",email:"white4571@twipet.com",password:"NSF-kQ7p",profession:"67rdca3eeb7f6fgeed471818",qualities:["67rdca3eeb7f6fgeed4711012","67rdca3eeb7f6fgeed471102","67rdca3eeb7f6fgeed471101"],completedMeetings:15,rate:2.5},{_id:"67rdca3eeb7f6fgeed471817",name:"\u0411\u043e\u0431 \u041a\u0435\u043b\u0441\u043e",email:"bob007@tw.com",password:"*cr6Lydn",profession:"67rdca3eeb7f6fgeed471818",qualities:["67rdca3eeb7f6fgeed4711012"],completedMeetings:247,rate:3.5,bookmark:!1},{_id:"67rdca3eeb7f6fgeed471818",name:"\u0420\u044d\u0439\u0447\u0435\u043b \u0413\u0440\u0438\u043d",email:"green7311@fam.biz",password:"*V7&Ks6D",profession:"67rdca3eeb7f6fgeed471820",qualities:["67rdca3eeb7f6fgeed471102"],completedMeetings:148,rate:3.5,bookmark:!1},{_id:"67rdca3eeb7f6fgeed471819",name:"\u0428\u0435\u043b\u0434\u043e\u043d \u041a\u0443\u043f\u0435\u0440",email:"mindgames6878@phis.tech",password:"$8^M_LfY",profession:"67rdca3eeb7f6fgeed471814",qualities:["67rdca3eeb7f6fgeed471100","67rdca3eeb7f6fgeed471198"],completedMeetings:37,rate:4.6},{_id:"67rdca3eeb7f6fgeed471820",name:"\u041b\u0435\u043e\u043d\u0430\u0440\u0434 \u0425\u043e\u0444\u0441\u0442\u0435\u0434\u0442\u0435\u0440",email:"mindes000@phis.tech",password:"75gHX^Tj",profession:"67rdca3eeb7f6fgeed471814",qualities:["67rdca3eeb7f6fgeed471100","67rdca3eeb7f6fgeed471102"],completedMeetings:147,rate:3.5,bookmark:!1},{_id:"67rdca3eeb7f6fgeed471821",name:"\u0413\u043e\u0432\u0430\u0440\u0434 \u0412\u043e\u043b\u043e\u0432\u0438\u0446",email:"gov1903@phis.tech",password:"k2+HWHq^",profession:"67rdca3eeb7f6fgeed471822",qualities:["67rdca3eeb7f6fgeed471100","67rdca3eeb7f6fgeed471198"],completedMeetings:72,rate:3.5,bookmark:!1},{_id:"67rdca3eeb7f6fgeed471822",name:"\u041d\u0438\u043a\u043e\u043b\u0430 \u0422\u0435\u0441\u043b\u0430",email:"electro@underground.tech",password:"K2vVmM^Z",profession:"67rdca3eeb7f6fgeed471822",qualities:["67rdca3eeb7f6fgeed471102"],completedMeetings:72,rate:5},{_id:"67rdca3eeb7f6fgeed471823",name:"\u041c\u043e\u043d\u0438\u043a\u0430 \u0413\u0435\u043b\u043b\u0435\u0440",email:"mono@super.com",password:"Zu+9*V$E",profession:"67rdca3eeb7f6fgeed471829",qualities:["67rdca3eeb7f6fgeed471100","67rdca3eeb7f6fgeed471102"],completedMeetings:17,rate:4.5},{_id:"67rdca3eeb7f6fgeed471824",name:"\u0420\u0430\u0442\u0430\u0442\u0443\u0439",email:"ratatatata@underground.com",password:"RvJ-U2EC",profession:"67rdca3eeb7f6fgeed471829",qualities:["67rdca3eeb7f6fgeed471102","67rdca3eeb7f6fgeed4711012"],completedMeetings:17,rate:4.5},{_id:"67rdca3eeb7f6fgeed47181f",name:"\u0414\u0436\u043e\u0443\u0438 \u0422\u0440\u0438\u0431\u0431\u0438\u0430\u043d\u0438",email:"joe@trib.com",password:"z&_r7VA8",profession:"67rdca3eeb7f6fgeed471824",qualities:["67rdca3eeb7f6fgeed471102","67rdca3eeb7f6fgeed471100"],completedMeetings:434,rate:3.5},{_id:"67rdca3eeb7f6fgeed47181r",name:"\u0411\u0440\u044d\u0434 \u041f\u0438\u0442\u0442",email:"superstar@star.com",password:"89UhL^$d",profession:"67rdca3eeb7f6fgeed471824",qualities:["67rdca3eeb7f6fgeed471102"],completedMeetings:434,rate:5}]},51:function(e,t,a){e.exports=a(100)}},[[51,1,2]]]);
//# sourceMappingURL=main.8785eaeb.chunk.js.map